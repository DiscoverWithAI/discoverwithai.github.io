on: push

jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v4
      - name: Install typst for file compiling
        uses: typst-community/setup-typst@v4
        with:
          typst-version: 0.13.x
      - name: Install Python for script execution
        run: sudo apt update && sudo apt install python3
      - name: Create output folder
        run: mkdir compiled
      - name: Compile typst files
        run: python3 .github/workflows/compile.py
      - name: Upload artifact
        uses: actions/upload-artifact@v4
        with:
          name: CompiledPDF
          path: "./compiled"